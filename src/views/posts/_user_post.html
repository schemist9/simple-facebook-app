<div class="card bg-light mb-3 border-0 shadow-sm" data-post-id="{{ post.id }}">
  <div class="card-body">

    <!-- header -->
    <div class="d-flex align-items-center mb-2">
      <img src="{{ post.author_avatar }}"
           class="rounded-circle me-2"
           width="40"
           height="40">

      <div class="flex-grow-1">
        <div class="fw-semibold">{{ post.author_name }} {{ post.author_surname }}</div>
        <div class="text-muted small post-date" data-ts="{{ post.created_at|date('c') }}">{{ post.created_at|date('F j \\a\\t H:i') }}</div>
      </div>
    </div>

    <!-- text -->
    <div class="mb-2">
        {{ post.text }}
    </div>

    <!-- actions -->
    <div class="border-top pt-2 mt-2">
      <div class="d-flex justify-content-around text-muted small">
        <div>
          <button class="like-button">
            {{ post.post_likes }}
            Like
          </button>
        </div>
        <div>Comment</div>
      </div>
    </div>

    <div class="comments mt-3" data-post-id="{{ post.id }}">

  <!-- existing comments list -->
  <div class="comment-list">

    {% for c in post.comments %}
      {% include 'comments/_comment.html' with { c: c } only %}
    {% endfor %}

  </div>

  <!-- add comment -->
  <form action="/posts/{{ post.id }}/comments" method="post" class="add-comment-form mt-2">
    <input type="hidden" name="reply_to_comment_id" value="">
    <div class="d-flex">
      <img src="{{ user.avatar ?? '/data/default-avatar.jpg' }}" class="rounded-circle me-2" width="32" height="32">

      <div class="flex-grow-1">
        <!-- "replying to" banner (hidden unless set) -->
        <div class="replying-banner small text-muted mb-1 d-none">
          Replying to <span class="replying-name">comment</span>
          <button type="button" class="btn btn-link btn-sm p-0 ms-2 cancel-reply">Cancel</button>
        </div>

        <input type="text"
               name="text"
               class="form-control form-control-sm"
               placeholder="Write a comment...">
      </div>
    </div>
  </form>

</div>
  </div>
</div>